<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2B Trade Pro | MÃ¼ÅŸteri Paneli</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* STYLE KODLARI - SEPETÄ°M.HTML Ä°LE AYNI MENÃœ TASARIMI */
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --primary-light: #dbeafe;
            --secondary: #f59e0b;
            --success: #10b981;
            --success-dark: #059669;
            --success-light: #d1fae5;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --gray-lighter: #f1f5f9;
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
            --transition-fast: all 0.15s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #334155;
            line-height: 1.6;
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR - SEPETÄ°M.HTML Ä°LE AYNI */
        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: var(--shadow);
            z-index: 100;
        }

        .logo {
            padding: 0 1.5rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 1rem;
            text-align: center;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .logo span {
            color: var(--secondary);
        }

        .customer-info {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 1rem;
        }

        .customer-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .customer-code {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 0 1rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem; /* SEPETÄ°M.HTML Ä°LE AYNI - SÄ°MGE Ä°LE YAZI ARASI BOÅžLUK */
            padding: 0.875rem 1rem;
            border-radius: var(--border-radius);
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255,255,255,0.15);
            color: white;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
        }

        /* MAIN CONTENT */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* HEADER */
        .header {
            background: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            gap: 2rem;
        }

        .welcome-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .welcome-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }

        .welcome-text h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .welcome-text p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* DÃ–VÄ°Z KURLARI */
        .exchange-rates-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .exchange-rates-simple {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .exchange-rates-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem 1rem;
        }

        .currency-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .currency-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .eur-badge .currency-symbol {
            color: #003399;
            font-weight: 700;
        }

        .usd-badge .currency-symbol {
            color: #3c3b6e;
            font-weight: 700;
        }

        .currency-code {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .currency-badge .rate-value {
            font-size: 1rem;
            font-weight: 800;
            color: var(--primary-dark);
            letter-spacing: 0.5px;
        }

        .exchange-divider {
            width: 1px;
            height: 20px;
            background: var(--gray-light);
        }

        .exchange-source-mini {
            font-size: 0.75rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 0.375rem;
            opacity: 0.8;
        }

        .exchange-source-mini i {
            font-size: 0.7rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex: 1;
            justify-content: flex-end;
        }

        .cart-indicator {
            position: relative;
            color: white;
            border-radius: var(--border-radius);
            padding: 1rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            box-shadow: var(--shadow);
            background: linear-gradient(135deg, var(--success), var(--success-dark));
        }

        .cart-indicator:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: white;
            color: var(--dark);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            border: 2px solid var(--success);
        }

        /* PAGE CONTENT */
        .page-content {
            flex: 1;
            padding: 2rem;
            overflow: auto;
        }

        /* SEARCH & SLIDER SECTION */
        .search-slider-container {
            display: grid;
            grid-template-columns: 2fr 3fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .search-section {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: var(--border-radius);
            box-shadow: 0 0 20px rgba(37, 99, 235, 0.3), 0 4px 20px rgba(0,0,0,0.08);
            padding: 1.5rem;
            border: 1px solid rgba(37, 99, 235, 0.2);
            position: relative;
        }

        .search-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .search-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--dark);
        }

        .search-form {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
            padding: 1rem 1.25rem;
            border: 2px solid var(--warning);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.3);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(37, 99, 235, 0.4);
        }

        .search-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 1rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
        }

        .advanced-filters {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .filter-select {
            padding: 0.75rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius-sm);
            background: white;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }

        /* SLIDER */
        .slider-container {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .slider {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            padding: 2rem;
        }

        .slider-controls {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
        }

        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background: white;
            transform: scale(1.2);
        }

        /* PRODUCTS SECTION */
        .products-section {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .section-header {
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, var(--light), var(--gray-lighter));
            border-bottom: 1px solid var(--gray-light);
            min-height: 60px;
            display: flex;
            align-items: center;
        }

        /* TABLO STÄ°LLERÄ° */
        .products-table-container {
            overflow-x: auto;
        }

        .products-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
        }

        .products-table thead {
            background: linear-gradient(135deg, var(--primary-light), #e0f2fe);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .products-table th {
            padding: 1rem 0.75rem;
            text-align: left;
            font-weight: 700;
            color: var(--primary-dark);
            border-bottom: 3px solid var(--primary);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
            border-right: 2px solid var(--gray-light);
        }

        .products-table th:last-child {
            border-right: none;
        }

        .products-table td {
            padding: 1rem 0.75rem;
            border-bottom: 2px solid var(--gray-lighter);
            vertical-align: middle;
            border-right: 2px solid var(--gray-lighter);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: none; /* KISITLAMA KALDIRILDI */
        }

        .products-table td:last-child {
            border-right: none;
        }

        .products-table tbody tr {
            transition: var(--transition-fast);
        }

        .products-table tbody tr:hover {
            background: var(--gray-lighter);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* ÃœRÃœN GÃ–RSELLERÄ° */
        .product-image {
            width: 50px;
            height: 50px;
            border-radius: var(--border-radius-sm);
            background: linear-gradient(135deg, var(--gray-lighter), var(--gray-light));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            font-size: 1.1rem;
        }

        /* ÃœRÃœN KODU VE ADI - KISITLAMA KALDIRILDI */
        .product-code {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.85rem;
        }

        .product-name {
            font-weight: 600;
            color: var(--dark);
            line-height: 1.3;
            font-size: 0.9rem;
            white-space: normal; /* KISITLAMA KALDIRILDI */
            overflow: visible; /* KISITLAMA KALDIRILDI */
            text-overflow: clip; /* KISITLAMA KALDIRILDI */
            max-width: none; /* KISITLAMA KALDIRILDI */
        }

        .product-oem {
            color: var(--gray);
            font-size: 0.8rem;
            margin-top: 0.25rem;
        }

        /* BADGE STÄ°LLERÄ° */
        .manufacturer-badge {
            background: var(--primary);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
            white-space: nowrap;
        }

        .campaign-badge {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
            display: inline-block;
            white-space: nowrap;
        }

        .discount-badge {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
            display: inline-block;
            white-space: nowrap;
        }

        /* STOK BÄ°LGÄ°LERÄ° - Ä°KÄ°TELLÄ° VE BOSTANCI GÃ–STERÄ°MÄ° */
        .stock-info {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .stock-location {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
        }

        .stock-location span:first-child {
            color: var(--gray);
        }

        .stock-high {
            color: var(--success);
            font-weight: 600;
        }

        .stock-medium {
            color: var(--warning);
            font-weight: 600;
        }

        .stock-low {
            color: var(--danger);
            font-weight: 600;
        }

        /* FÄ°YAT BÄ°LGÄ°LERÄ° - PARA BÄ°RÄ°MÄ° SÄ°MGELERÄ° Ä°LE */
        .price-info {
            text-align: center;
        }

        .price-value {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 4px;
            transition: var(--transition-fast);
            white-space: nowrap;
        }

        .currency-symbol {
            margin-left: 4px;
            font-weight: 600;
        }

        .tl-symbol {
            color: #e30a17;
        }

        .eur-symbol {
            color: #003399;
        }

        .usd-symbol {
            color: #3c3b6e;
        }

        .gbp-symbol {
            color: #c8102e;
        }

        .discount-info {
            text-align: center;
        }

        .discount-badges {
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
            align-items: center;
        }

        .discount-item {
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            color: white;
            min-width: 50px;
            text-align: center;
        }

        .discount-5 {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }

        .discount-20 {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .discount-40 {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .discount-other {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        /* KDV DAHÄ°L FÄ°YAT */
        .tax-included-price {
            text-align: center;
            font-weight: 700;
            color: var(--success);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        /* MÄ°KTAR VE SEPET EKLEME */
        .cart-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .qty-btn {
            width: 28px;
            height: 28px;
            border: 1px solid var(--gray-light);
            background: white;
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-fast);
            color: var(--dark);
            font-size: 0.8rem;
        }

        .qty-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .qty-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .qty-input {
            width: 45px;
            height: 28px;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius-sm);
            text-align: center;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .qty-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }

        .add-to-cart {
            position: relative;
        }

        .item-count {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background: white;
            color: var(--danger);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 700;
            border: 1px solid var(--danger);
        }

        .add-to-cart {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        /* LOADING & EMPTY STATES */
        .loading, .empty-state {
            padding: 3rem 2rem;
            text-align: center;
            color: var(--gray);
            grid-column: 1 / -1;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .empty-state i {
            font-size: 3rem;
            color: var(--gray-light);
        }

        /* NOTIFICATION */
        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
            padding: 1.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-xl);
            z-index: 2000;
            display: none;
            align-items: center;
            gap: 1rem;
            font-weight: 600;
            max-width: 400px;
            text-align: center;
        }

        /* RESPONSIVE */
        @media (max-width: 1200px) {
            .search-slider-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .nav-menu {
                flex-direction: row;
                overflow-x: auto;
                padding: 0 1rem 1rem;
            }
            
            .header {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }
            
            .exchange-rates-box {
                min-width: 100%;
            }
            
            .exchange-rates {
                gap: 1rem;
            }
            
            .page-content {
                padding: 1rem;
            }
            
            .search-form {
                flex-direction: column;
            }
            
            .advanced-filters {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- SIDEBAR - SEPETÄ°M.HTML Ä°LE AYNI -->
        <aside class="sidebar">
            <div class="logo">
                <h1><i class="fas fa-store"></i> B2B<span>TRADE</span></h1>
            </div>
            <div class="customer-info">
                <div class="customer-name" id="customer-name">YÃ¼kleniyor...</div>
                <div class="customer-code" id="customer-code">MÃ¼ÅŸteri Kodu: YÃ¼kleniyor...</div>
            </div>
            <nav class="nav-menu">
                <a href="dashboard.html" class="nav-item active">
                    <i class="fas fa-home"></i> Anasayfa
                </a>
                <a href="sepetim.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i> Sepetim
                </a>
                <a href="kampanya-sepeti.html" class="nav-item">
                    <i class="fas fa-tags"></i> Kampanya Sepetim
                </a>
                <a href="sanal-pos.html" class="nav-item">
                    <i class="fas fa-credit-card"></i> Sanal Pos Ã–deme
                </a>
                <a href="cari-hesap.html" class="nav-item">
                    <i class="fas fa-file-invoice-dollar"></i> Cari HesabÄ±m
                </a>
                <a href="siparis-gecmisi.html" class="nav-item">
                    <i class="fas fa-clipboard-list"></i> SipariÅŸ GeÃ§miÅŸim
                </a>
                <a href="iade-islemleri.html" class="nav-item">
                    <i class="fas fa-undo-alt"></i> Ä°ade Ä°ÅŸlemlerim
                </a>
                <a href="musteri-hizmetleri.html" class="nav-item">
                    <i class="fas fa-headset"></i> MÃ¼ÅŸteri Hizmetleri
                </a>
                <a href="hesap-ayarlari.html" class="nav-item">
                    <i class="fas fa-user-cog"></i> Hesap AyarlarÄ±
                </a>
                <a href="#" class="nav-item" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Ã‡Ä±kÄ±ÅŸ Yap
                </a>
            </nav>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- HEADER -->
            <header class="header">
                <div class="welcome-section">
                    <div class="welcome-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="welcome-text">
                        <h1 id="welcome-title">HoÅŸ Geldiniz!</h1>
                    </div>
                </div>
                
                <!-- DÃ–VÄ°Z KURLARI -->
                <div class="exchange-rates-container">
                    <div class="exchange-rates-simple" id="exchange-rates-simple">
                        <div class="exchange-rates-row">
                            <span class="currency-badge eur-badge">
                                <span class="currency-symbol">â‚¬</span>
                                <span class="currency-code">EUR</span>
                                <span class="rate-value" id="eur-rate">49,45</span>
                            </span>
                            <div class="exchange-divider"></div>
                            <span class="currency-badge usd-badge">
                                <span class="currency-symbol">$</span>
                                <span class="currency-code">USD</span>
                                <span class="rate-value" id="usd-rate">42,43</span>
                            </span>
                        </div>
                        <div class="exchange-source-mini" id="exchange-source-mini">
                            <i class="fas fa-clock"></i>
                            <span id="tcmb-source">TCMB - Son GÃ¼ncelleme</span>
                        </div>
                    </div>
                </div>
                
                <div class="header-actions">
                    <a href="sepetim.html" class="cart-indicator" id="cart-indicator">
                        <i class="fas fa-shopping-cart"></i> Sepetim
                        <span class="cart-count" id="cart-count">0</span>
                    </a>
                </div>
            </header>

            <!-- PAGE CONTENT -->
            <div class="page-content">
                <!-- SEARCH & SLIDER SECTION -->
                <div class="search-slider-container">
                    <!-- SEARCH SECTION -->
                    <div class="search-section">
                        <div class="search-header">
                            <h2 class="search-title">
                                <i class="fas fa-search"></i> Malzeme Ara
                            </h2>
                        </div>
                        <form class="search-form" id="search-form">
                            <input type="text" class="search-input" id="search-input" 
                                   placeholder="Malzeme kodu veya OEM kodu ara...">
                            <button type="submit" class="search-btn">
                                <i class="fas fa-search"></i> ARA
                            </button>
                        </form>
                        <div class="advanced-filters">
                            <div class="filter-group">
                                <div class="filter-header">
                                    <i class="fas fa-industry"></i>
                                    <span>Ãœretici</span>
                                </div>
                                <select class="filter-select" id="manufacturer-filter">
                                    <option value="">TÃ¼m Ãœreticiler</option>
                                    <option value="bosch">Bosch</option>
                                    <option value="makita">Makita</option>
                                    <option value="dewalt">DeWalt</option>
                                    <option value="stanley">Stanley</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <div class="filter-header">
                                    <i class="fas fa-car"></i>
                                    <span>AraÃ§ Modeli</span>
                                </div>
                                <select class="filter-select" id="vehicle-filter">
                                    <option value="">TÃ¼m Modeller</option>
                                    <option value="focus">Ford Focus</option>
                                    <option value="civic">Honda Civic</option>
                                    <option value="corolla">Toyota Corolla</option>
                                    <option value="golf">Volkswagen Golf</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- SLIDER -->
                    <div class="slider-container">
                        <div class="slider" id="slider">
                            <div class="slide" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                                B2B Ã–ZEL KAMPANYALAR - %40'A VARAN Ä°NDÄ°RÄ°MLER
                            </div>
                            <div class="slide" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                                4 KATMANLI Ä°SKONTO SÄ°STEMÄ°
                            </div>
                            <div class="slide" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                                MÃœÅžTERÄ° Ã–ZEL FÄ°YATLARINIZ HAZIR
                            </div>
                        </div>
                        <div class="slider-controls">
                            <div class="slider-dot active" data-slide="0"></div>
                            <div class="slider-dot" data-slide="1"></div>
                            <div class="slider-dot" data-slide="2"></div>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTS SECTION -->
                <div class="products-section">
                    <div class="section-header">
                        <!-- "0 Ã¼rÃ¼n bulundu" KALDIRILDI - BOÅž BIRAKILDI -->
                    </div>
                    
                    <!-- TABLE VIEW -->
                    <div class="products-table-container" id="tableView">
                        <table class="products-table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Malzeme Kodu</th>
                                    <th>ÃœrÃ¼n AdÄ±</th>
                                    <th>OEM Kodu</th>
                                    <th>Ãœretici</th>
                                    <th>Stok Durumu</th>
                                    <th>Fiyat</th>
                                    <th>Ä°skonto</th>
                                    <th>KDV Dahil</th>
                                    <th>Ä°ÅŸlemler</th>
                                </tr>
                            </thead>
                            <tbody id="products-table-body">
                                <tr>
                                    <td colspan="10" class="loading">
                                        <div class="spinner"></div>
                                        <span>ÃœrÃ¼nler yÃ¼kleniyor...</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- NOTIFICATION -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">ÃœrÃ¼n sepete eklendi!</span>
    </div>

    <script>
        // ====================================================
        // ðŸš€ 1.0 - UYGULAMA STATE
        // ====================================================
        let cart = JSON.parse(localStorage.getItem('b2b_cart')) || [];
        let currentUser = null;
        let currentSlide = 0;
        let sliderInterval;
        let allProducts = [];
        let tcmbRates = { EUR: 49.45, USD: 42.43 };
        let exchangeRatesInterval = null;

        // ====================================================
        // ðŸš€ 1.1 - DOM ELEMENTS
        // ====================================================
        const searchForm = document.getElementById('search-form');
        const searchInput = document.getElementById('search-input');
        const productsTableBody = document.getElementById('products-table-body');
        const notification = document.getElementById('notification');
        const slider = document.getElementById('slider');
        const sliderDots = document.querySelectorAll('.slider-dot');
        const cartIndicator = document.getElementById('cart-indicator');
        const cartCountElement = document.getElementById('cart-count');
        
        // MÃ¼ÅŸteri bilgisi elementleri
        const customerNameEl = document.getElementById('customer-name');
        const customerCodeEl = document.getElementById('customer-code');
        const welcomeTitleEl = document.getElementById('welcome-title');
        
        // DÃ¶viz kuru elementleri
        const eurRateEl = document.getElementById('eur-rate');
        const usdRateEl = document.getElementById('usd-rate');
        const tcmbSourceEl = document.getElementById('tcmb-source');

        // ====================================================
        // ðŸš€ 1.2 - UYGULAMA BAÅžLATMA
        // ====================================================
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        async function initializeApp() {
            try {
                console.log('ðŸš€ MÃ¼ÅŸteri Dashboard baÅŸlatÄ±lÄ±yor...');
                
                // 1. KullanÄ±cÄ± bilgilerini yÃ¼kle
                await loadUserData();
                
                // 2. MÃ¼ÅŸteri bilgilerini gÃ¶ster
                displayCustomerInfo();
                
                // 3. TCMB dÃ¶viz kurlarÄ±nÄ± yÃ¼kle
                await loadExchangeRates();
                
                // 4. B2B API'den Ã¼rÃ¼nleri yÃ¼kle
                await loadB2BProducts();
                
                // 5. DÃ¶viz kurlarÄ± iÃ§in otomatik gÃ¼ncelleme
                startExchangeRatesAutoUpdate();
                
                // 6. Event listener'larÄ± kur
                setupEventListeners();
                
                // 7. Slider baÅŸlat
                startSlider();
                
                // 8. Sepet sayÄ±sÄ±nÄ± gÃ¼ncelle
                updateCartCount();
                updateAllItemCounts();
                
                console.log('âœ… MÃ¼ÅŸteri Dashboard hazÄ±r!');
                
            } catch (error) {
                console.error('Uygulama baÅŸlatma hatasÄ±:', error);
                showError('Uygulama baÅŸlatÄ±lamadÄ±: ' + error.message);
            }
        }

        // ====================================================
        // ðŸš€ 2.0 - KULLANICI BÄ°LGÄ°LERÄ°
        // ====================================================
        async function loadUserData() {
            try {
                const userDataString = localStorage.getItem('b2b_user_data');
                
                if (!userDataString) {
                    window.location.href = '/';
                    return;
                }

                const userData = JSON.parse(userDataString);
                currentUser = userData;
                
                console.log('ðŸ‘¤ KullanÄ±cÄ± bilgileri yÃ¼klendi:', currentUser);
                
            } catch (error) {
                console.error('KullanÄ±cÄ± bilgisi yÃ¼kleme hatasÄ±:', error);
                throw new Error('KullanÄ±cÄ± bilgileri alÄ±namadÄ±');
            }
        }

        function displayCustomerInfo() {
            if (!currentUser) {
                customerNameEl.textContent = 'MÃ¼ÅŸteri BulunamadÄ±';
                customerCodeEl.textContent = 'MÃ¼ÅŸteri Kodu: -';
                return;
            }

            const customerName = currentUser.musteri_adi || currentUser.kullanici || 'MÃ¼ÅŸteri';
            const customerCode = currentUser.cari_kodu || currentUser.kullanici || '-';
            
            customerNameEl.textContent = customerName;
            customerCodeEl.textContent = `MÃ¼ÅŸteri Kodu: ${customerCode}`;
            welcomeTitleEl.textContent = `HoÅŸ Geldiniz, ${customerName}!`;
        }

        // ====================================================
        // ðŸš€ 3.0 - B2B API'DEN ÃœRÃœNLERÄ° YÃœKLE
        // ====================================================
        async function loadB2BProducts() {
            try {
                if (!currentUser || !currentUser.cari_kodu) {
                    console.warn('MÃ¼ÅŸteri kodu bulunamadÄ±');
                    showError('MÃ¼ÅŸteri bilgisi bulunamadÄ±. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');
                    return;
                }

                const customerCode = currentUser.cari_kodu;
                console.log(`ðŸ”„ B2B API Ã¼rÃ¼nleri yÃ¼kleniyor: ${customerCode}`);
                
                // B2B API'den mÃ¼ÅŸteriye Ã¶zel Ã¼rÃ¼nleri al
                const response = await fetch(`/api/b2b/products?customerCode=${encodeURIComponent(customerCode)}&limit=100`, {
                    headers: {
                        'Content-Type': 'application/json',
                        'x-user-data': JSON.stringify(currentUser),
                        'x-user-type': 'customer'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`B2B API hatasÄ±: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (!result.success) {
                    throw new Error(result.error || 'B2B verisi alÄ±namadÄ±');
                }

                console.log(`âœ… B2B API verileri alÄ±ndÄ±: ${result.data?.length || 0} Ã¼rÃ¼n`);
                
                // B2B API verilerini iÅŸle
                if (result.data && Array.isArray(result.data)) {
                    allProducts = result.data;
                    renderB2BProducts(allProducts);
                } else {
                    throw new Error('GeÃ§ersiz veri formatÄ±');
                }
                
            } catch (error) {
                console.error('B2B Ã¼rÃ¼n yÃ¼kleme hatasÄ±:', error);
                showError('ÃœrÃ¼nler yÃ¼klenemedi: ' + error.message);
            }
        }

        // ====================================================
        // ðŸš€ 4.0 - B2B ÃœRÃœNLERÄ°NÄ° GÃ–STER (API FORMATINA GÃ–RE DÃœZENLENDÄ°)
        // ====================================================
        function renderB2BProducts(products) {
            if (!products || products.length === 0) {
                productsTableBody.innerHTML = `
                    <tr>
                        <td colspan="10" class="empty-state">
                            <i class="fas fa-box-open"></i>
                            <div>HenÃ¼z Ã¼rÃ¼n bulunamadÄ±</div>
                        </td>
                    </tr>
                `;
                return;
            }

            // HTML oluÅŸtur - API FORMATINA UYGUN
            productsTableBody.innerHTML = products.map(product => {
                // API'den gelen veri formatÄ±na gÃ¶re alanlarÄ± al
                const productCode = product.productCode || product.code || '-';
                const productName = product.productName || product.name || 'Ä°simsiz ÃœrÃ¼n';
                const oemCode = product.oemCode || '-';
                const manufacturer = product.manufacturer || 'BelirtilmemiÅŸ';
                
                // Stok bilgileri - API formatÄ±na gÃ¶re
                const ikitelliStock = product.ikitelliStock || 0;
                const bostanciStock = product.bostanciStock || 0;
                
                // Fiyat bilgileri - API formatÄ±na gÃ¶re
                const unitPrice = product.unitPrice || 0;
                const currencyCode = product.currencyCode || 160;
                const finalPrice = product.finalPrice || unitPrice;
                const discountRate = product.totalDiscountRate || product.discountRate || 0;
                
                // KDV dahil fiyat hesapla
                const taxIncludedPrice = finalPrice * 1.20; // %20 KDV
                
                // Ä°skonto bilgisi
                const discounts = product.discounts || [];
                
                return `
                <tr>
                    <td>
                        <div class="product-image">
                            <i class="fas fa-box"></i>
                        </div>
                    </td>
                    <td class="product-code">${productCode}</td>
                    <td>
                        <div class="product-name">
                            ${productName}
                        </div>
                        ${product.hasCampaign ? '<span class="campaign-badge">Kampanya</span>' : ''}
                    </td>
                    <td>${oemCode}</td>
                    <td><span class="manufacturer-badge">${manufacturer}</span></td>
                    <td>
                        <div class="stock-info">
                            <div class="stock-location">
                                <span>Ä°kitelli:</span>
                                <span class="stock-${getStockClass(ikitelliStock)}">${ikitelliStock} adet</span>
                            </div>
                            <div class="stock-location">
                                <span>BostancÄ±:</span>
                                <span class="stock-${getStockClass(bostanciStock)}">${bostanciStock} adet</span>
                            </div>
                        </div>
                    </td>
                    <td class="price-info">
                        <div class="price-value">
                            ${formatPriceWithSymbol(finalPrice, currencyCode)}
                        </div>
                    </td>
                    <td class="discount-info">
                        ${getDiscountBadgesHTML(discounts, discountRate)}
                    </td>
                    <td class="tax-included-price">
                        ${formatPriceWithSymbol(taxIncludedPrice, currencyCode)}
                    </td>
                    <td>
                        <div class="cart-actions">
                            <div class="quantity-control">
                                <button class="qty-btn" onclick="updateProductQuantity('${productCode}', -1)">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="number" class="qty-input" id="qty-${productCode}" 
                                    value="1" 
                                    min="1" 
                                    max="999">
                                <button class="qty-btn" onclick="updateProductQuantity('${productCode}', 1)">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <button class="add-to-cart" onclick="addToCartFromB2B('${productCode}')" title="Sepete Ekle">
                                <i class="fas fa-cart-plus"></i>
                                <span class="item-count" id="item-count-${productCode}">0</span>
                            </button>
                        </div>
                    </td>
                </tr>
                `;
            }).join('');
        }

        function getStockClass(stock) {
            if (stock >= 50) return 'high';
            if (stock >= 10) return 'medium';
            return 'low';
        }

        function getDiscountBadgesHTML(discounts, discountRate) {
            // EÄŸer iskonto listesi varsa onlarÄ± gÃ¶ster
            if (discounts && discounts.length > 0) {
                return `
                    <div class="discount-badges">
                        ${discounts.map(discount => {
                            const rate = discount.rate || 0;
                            let discountClass = 'discount-other';
                            if (rate === 5) discountClass = 'discount-5';
                            else if (rate === 20) discountClass = 'discount-20';
                            else if (rate === 40) discountClass = 'discount-40';
                            
                            return `<div class="discount-item ${discountClass}">%${rate}</div>`;
                        }).join('')}
                    </div>
                `;
            }
            
            // EÄŸer toplam iskonto oranÄ± varsa onu gÃ¶ster
            if (discountRate > 0) {
                let discountClass = 'discount-other';
                if (discountRate === 5) discountClass = 'discount-5';
                else if (discountRate === 20) discountClass = 'discount-20';
                else if (discountRate === 40) discountClass = 'discount-40';
                
                return `<div class="discount-item ${discountClass}">%${discountRate}</div>`;
            }
            
            return '-';
        }

        // ====================================================
        // ðŸš€ 5.0 - PARA BÄ°RÄ°MÄ° FORMATLAMA (SÄ°MGE Ä°LE)
        // ====================================================
        function formatPriceWithSymbol(price, currencyCode) {
            const priceNumber = parseFloat(price) || 0;
            const formattedPrice = priceNumber.toFixed(2).replace('.', ',');
            
            // Para birimi sembolleri
            const symbols = {
                1: '$',    // USD
                20: 'â‚¬',   // EUR
                17: 'Â£',   // GBP
                160: 'â‚º'   // TL
            };
            
            const symbol = symbols[currencyCode] || 'â‚º';
            
            // Sembol sÄ±nÄ±fÄ±
            let symbolClass = 'currency-symbol';
            if (currencyCode === 160) symbolClass += ' tl-symbol';
            else if (currencyCode === 20) symbolClass += ' eur-symbol';
            else if (currencyCode === 1) symbolClass += ' usd-symbol';
            else if (currencyCode === 17) symbolClass += ' gbp-symbol';
            
            return `${formattedPrice} <span class="${symbolClass}">${symbol}</span>`;
        }

        function formatPrice(price, currencyCode) {
            const priceNumber = parseFloat(price) || 0;
            const formattedPrice = priceNumber.toFixed(2).replace('.', ',');
            
            const symbols = {
                1: '$',    // USD
                20: 'â‚¬',   // EUR
                17: 'Â£',   // GBP
                160: 'â‚º'   // TL
            };
            
            const symbol = symbols[currencyCode] || 'â‚º';
            
            return `${formattedPrice} ${symbol}`;
        }

        // ====================================================
        // ðŸš€ 6.0 - SEPET Ä°ÅžLEMLERÄ°
        // ====================================================
        function addToCartFromB2B(productCode) {
            // API'den gelen Ã¼rÃ¼nÃ¼ bul
            const product = allProducts.find(p => 
                p.productCode === productCode || p.code === productCode
            );
            
            if (!product) {
                showNotification('ÃœrÃ¼n bulunamadÄ±', 'error');
                return;
            }

            const quantityInput = document.getElementById(`qty-${productCode}`);
            const quantity = parseInt(quantityInput.value) || 1;

            // Fiyat hesaplama
            let finalPrice = product.finalPrice || product.unitPrice || 0;
            const currencyCode = product.currencyCode || 160;

            const cartItem = {
                code: product.productCode || product.code,
                name: product.productName || product.name,
                price: finalPrice,
                originalPrice: product.unitPrice || finalPrice,
                manufacturer: product.manufacturer || '',
                oemCode: product.oemCode || '',
                discountRate: product.totalDiscountRate || product.discountRate || 0,
                discountRates: product.discounts || [],
                quantity: quantity,
                currency: currencyCode,
                originalCurrency: currencyCode,
                minQuantity: 1,
                addedAt: new Date().toISOString(),
                customerCode: currentUser ? currentUser.cari_kodu : 'UNKNOWN',
                unitCode: 'ADET',
                ikitelliStock: product.ikitelliStock || 0,
                bostanciStock: product.bostanciStock || 0
            };
            
            let cart = JSON.parse(localStorage.getItem('b2b_cart')) || [];
            
            const existingIndex = cart.findIndex(item => item.code === productCode);
            if (existingIndex > -1) {
                cart[existingIndex].quantity += quantity;
            } else {
                cart.push(cartItem);
            }
            
            localStorage.setItem('b2b_cart', JSON.stringify(cart));
            
            updateCartCount();
            updateItemCount(productCode);
            showNotification(`${cartItem.name} sepete eklendi!`);
        }

        function updateProductQuantity(productCode, change) {
            const input = document.getElementById(`qty-${productCode}`);
            const currentValue = parseInt(input.value) || 1;
            const minQuantity = parseInt(input.min) || 1;
            const newValue = Math.max(minQuantity, currentValue + change);
            
            input.value = newValue;
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('b2b_cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            if (cartCountElement) {
                cartCountElement.textContent = totalItems;
            }
        }

        function updateItemCount(productCode) {
            const cart = JSON.parse(localStorage.getItem('b2b_cart')) || [];
            const cartItem = cart.find(item => item.code === productCode);
            const itemCountElement = document.getElementById(`item-count-${productCode}`);
            
            if (itemCountElement && cartItem) {
                itemCountElement.textContent = cartItem.quantity;
            } else if (itemCountElement) {
                itemCountElement.textContent = '0';
            }
        }

        function updateAllItemCounts() {
            const cart = JSON.parse(localStorage.getItem('b2b_cart')) || [];
            allProducts.forEach(product => {
                const productCode = product.productCode || product.code;
                if (productCode) {
                    const cartItem = cart.find(item => item.code === productCode);
                    const itemCountElement = document.getElementById(`item-count-${productCode}`);
                    
                    if (itemCountElement && cartItem) {
                        itemCountElement.textContent = cartItem.quantity;
                    }
                }
            });
        }

        // ====================================================
        // ðŸš€ 7.0 - ARAMA Ä°ÅžLEMLERÄ°
        // ====================================================
        async function performSearch() {
            const searchTerm = searchInput.value.trim();
            
            if (searchTerm.length < 2) {
                showNotification('LÃ¼tfen en az 2 karakter giriniz', 'warning');
                return;
            }

            try {
                productsTableBody.innerHTML = '<tr><td colspan="10" class="loading"><div class="spinner"></div><span>AranÄ±yor...</span></td></tr>';
                
                if (currentUser && currentUser.cari_kodu) {
                    // B2B API ile arama
                    const customerCode = currentUser.cari_kodu;
                    
                    const response = await fetch(`/api/b2b/products/search?customerCode=${encodeURIComponent(customerCode)}&search=${encodeURIComponent(searchTerm)}`, {
                        headers: {
                            'Content-Type': 'application/json',
                            'x-user-data': JSON.stringify(currentUser),
                            'x-user-type': 'customer'
                        }
                    });
                    
                    if (response.ok) {
                        const result = await response.json();
                        if (result.success) {
                            allProducts = result.data || [];
                            renderB2BProducts(allProducts);
                            showNotification(`${allProducts.length} sonuÃ§ bulundu`, 'success');
                            return;
                        }
                    }
                }
                
                // EÄŸer B2B API'den veri gelmezse mevcut Ã¼rÃ¼nler iÃ§inde filtrele
                const filteredProducts = allProducts.filter(product => {
                    const searchLower = searchTerm.toLowerCase();
                    const productCode = product.productCode || product.code || '';
                    const productName = product.productName || product.name || '';
                    const oemCode = product.oemCode || '';
                    
                    return (
                        productCode.toLowerCase().includes(searchLower) ||
                        productName.toLowerCase().includes(searchLower) ||
                        oemCode.toLowerCase().includes(searchLower)
                    );
                });
                
                renderB2BProducts(filteredProducts);
                showNotification(`${filteredProducts.length} sonuÃ§ bulundu`, 'info');
                
            } catch (error) {
                console.error('Arama hatasÄ±:', error);
                productsTableBody.innerHTML = `
                    <tr>
                        <td colspan="10" class="empty-state">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>Arama yapÄ±lamadÄ±</div>
                        </td>
                    </tr>
                `;
                showNotification('Arama sÄ±rasÄ±nda hata oluÅŸtu', 'error');
            }
        }

        // ====================================================
        // ðŸš€ 8.0 - DÃ–VÄ°Z KURLARI
        // ====================================================
        async function loadExchangeRates() {
            try {
                console.log('ðŸ’± TCMB dÃ¶viz kurlarÄ± yÃ¼kleniyor...');
                
                const response = await fetch('/api/exchange-rates');
                const result = await response.json();
                
                if (result.success) {
                    tcmbRates.EUR = result.data.EUR?.ForexBuying || 49.45;
                    tcmbRates.USD = result.data.USD?.ForexBuying || 42.43;
                    
                    const formattedEurRate = tcmbRates.EUR.toFixed(2).replace('.', ',');
                    const formattedUsdRate = tcmbRates.USD.toFixed(2).replace('.', ',');
                    
                    displayExchangeRates(formattedEurRate, formattedUsdRate, result.source);
                    
                    console.log(`âœ… TCMB kurlarÄ± yÃ¼klendi: EUR=${tcmbRates.EUR}, USD=${tcmbRates.USD}`);
                    
                } else {
                    throw new Error('TCMB verileri alÄ±namadÄ±');
                }
            } catch (error) {
                console.error('âŒ TCMB kurlarÄ± yÃ¼klenemedi:', error);
                displayExchangeRates('49,45', '42,43', 'VarsayÄ±lan');
            }
        }

        function startExchangeRatesAutoUpdate() {
            exchangeRatesInterval = setInterval(() => {
                loadExchangeRates();
            }, 5 * 60 * 1000);
            
            console.log('ðŸ”„ DÃ¶viz kurlarÄ± otomatik gÃ¼ncelleme baÅŸlatÄ±ldÄ± (5 dakika)');
        }

        function displayExchangeRates(eurRate, usdRate, source = 'TCMB') {
            if (eurRateEl) eurRateEl.textContent = eurRate;
            if (usdRateEl) usdRateEl.textContent = usdRate;
            if (tcmbSourceEl) {
                const timestamp = new Date().toLocaleTimeString('tr-TR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                tcmbSourceEl.textContent = `${source} - Son GÃ¼ncelleme: ${timestamp}`;
            }
        }

        // ====================================================
        // ðŸš€ 9.0 - YARDIMCI FONKSÄ°YONLAR
        // ====================================================
        function showNotification(message, type = 'success') {
            const notificationText = document.getElementById('notification-text');
            notificationText.textContent = message;
            
            if (type === 'error') {
                notification.style.background = 'linear-gradient(135deg, var(--danger), #dc2626)';
            } else if (type === 'warning') {
                notification.style.background = 'linear-gradient(135deg, var(--warning), #d97706)';
            } else if (type === 'info') {
                notification.style.background = 'linear-gradient(135deg, var(--info), #1d4ed8)';
            } else {
                notification.style.background = 'linear-gradient(135deg, var(--success), var(--success-dark))';
            }
            
            notification.style.display = 'flex';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 2000);
        }

        function showError(message) {
            productsTableBody.innerHTML = `
                <tr>
                    <td colspan="10" class="empty-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>${message}</div>
                    </td>
                </tr>
            `;
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % 3;
            updateSlider();
        }

        function updateSlider() {
            slider.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            sliderDots.forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function startSlider() {
            sliderInterval = setInterval(nextSlide, 5000);
        }

        // ====================================================
        // ðŸš€ 10.0 - EVENT LISTENER'LAR
        // ====================================================
        function setupEventListeners() {
            searchForm.addEventListener('submit', (e) => {
                e.preventDefault();
                performSearch();
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    performSearch();
                }
            });

            document.getElementById('logout-btn').addEventListener('click', (e) => {
                e.preventDefault();
                if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinizden emin misiniz?')) {
                    clearInterval(sliderInterval);
                    clearInterval(exchangeRatesInterval);
                    
                    localStorage.removeItem('b2b_cart');
                    localStorage.removeItem('b2b_user_data');
                    localStorage.removeItem('b2b_user_type');
                    localStorage.removeItem('b2b_session_id');
                    sessionStorage.clear();
                    
                    window.location.href = '/';
                }
            });

            sliderDots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentSlide = index;
                    updateSlider();
                    clearInterval(sliderInterval);
                    startSlider();
                });
            });

            // DÃ¶viz kurlarÄ± gÃ¼ncelleme
            const exchangeContainer = document.querySelector('.exchange-rates-container');
            if (exchangeContainer) {
                exchangeContainer.addEventListener('click', () => {
                    loadExchangeRates();
                    showNotification('DÃ¶viz kurlarÄ± gÃ¼ncelleniyor...', 'info');
                });
            }

            // Filtreler
            const manufacturerFilter = document.getElementById('manufacturer-filter');
            const vehicleFilter = document.getElementById('vehicle-filter');
            
            if (manufacturerFilter) {
                manufacturerFilter.addEventListener('change', filterProducts);
            }
            
            if (vehicleFilter) {
                vehicleFilter.addEventListener('change', filterProducts);
            }

            window.addEventListener('beforeunload', (e) => {
                clearInterval(sliderInterval);
                clearInterval(exchangeRatesInterval);
            });
        }

        function filterProducts() {
            const manufacturerValue = document.getElementById('manufacturer-filter').value;
            const vehicleValue = document.getElementById('vehicle-filter').value;
            
            let filtered = allProducts;
            
            if (manufacturerValue) {
                filtered = filtered.filter(product => {
                    const manufacturer = product.manufacturer || '';
                    return manufacturer.toLowerCase().includes(manufacturerValue.toLowerCase());
                });
            }
            
            if (vehicleValue) {
                filtered = filtered.filter(product => {
                    // Burada araÃ§ modeli filtresi iÃ§in gerekli alanÄ± kullan
                    const vehicleModel = product.vehicleModel || '';
                    return vehicleModel.toLowerCase().includes(vehicleValue.toLowerCase());
                });
            }
            
            renderB2BProducts(filtered);
        }
    </script>
</body>
</html>